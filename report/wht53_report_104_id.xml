<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <template id="odoo_report.wht53_report_104_id">
      <!--for customer site only-->
      <!--for customer site only-->
      <!--for customer site only-->
      <!--for customer site only-->
      <t t-foreach="docs" t-as="o">
        <t t-set="vat_id" t-value="o.company_id.vat"/>

        <t t-if="not o.supplier_name_text">
          <t t-set="vat1_id" t-value="o.partner_id.vat"/>
        </t>
        <t t-if="o.supplier_name_text">
          <t t-set="vat1_id" t-value="o.supplier_taxid_text"/>
        </t>
        <div class="page" t-attf-style="background-image:url('/signature/static/whithoding.jpg'); background-size:360mm 520mm; width:360mm; height:520mm;">
          <div style="text-align:center; position: absolute;left: 1200px;top: 120px;">
            <font style="font-size: 20px;">
              <t t-set="a" t-value="0"/>
              <t t-foreach="o.line_ids" t-as="b">
                <t t-if="b.name==o.line_ids[0].payment_id.name">
                  <t t-set="a" t-value="b.name"/>
                </t>
              </t>
              <t t-if="a!=0">
                <span t-esc="a"/>
              </t>
              <t t-if="a==0">
                <span t-esc="o.name"/>
              </t>
              <br/>
            </font>
          </div>
          <div style="text-align:center; position: absolute;left: 1200px;top: 150px;">
            <font style="font-size: 20px;">
              <span t-field="o.wht_reference"/>
            </font>
          </div>
          <div>
            <font style="font-size: 20px;">
              <t t-if="vat_id">
                <span t-esc="vat_id[0]" style="position: absolute;left: 880px;top: 200px;"/>
                <span t-esc="vat_id[1]" style="position: absolute;left: 920px;top: 200px;"/>
                <span t-esc="vat_id[2]" style="position: absolute;left: 950px;top: 200px;"/>
                <span t-esc="vat_id[3]" style="position: absolute;left: 980px;top: 200px;"/>
                <span t-esc="vat_id[4]" style="position: absolute;left: 1010px;top: 200px;"/>
                <span t-esc="vat_id[5]" style="position: absolute;left: 1050px;top: 200px;"/>
                <span t-esc="vat_id[6]" style="position: absolute;left: 1080px;top: 200px;"/>
                <span t-esc="vat_id[7]" style="position: absolute;left: 1100px;top: 200px;"/>
                <span t-esc="vat_id[8]" style="position: absolute;left: 1130px;top: 200px;"/>
                <span t-esc="vat_id[9]" style="position: absolute;left: 1160px;top: 200px;"/>
                <span t-esc="vat_id[10]" style="position: absolute;left: 1200px;top: 200px;"/>
                <span t-esc="vat_id[11]" style="position: absolute;left: 1230px;top: 200px;"/>
                <span t-esc="vat_id[12]" style="position: absolute;left: 1275px;top: 200px;"/>
              </t>
            </font>
          </div>
          <div class="col-xs-12" style="position: absolute;left: 160px;top: 237px;">
            <font style="font-size: 20px;">
              <span t-field="o.company_id.name"/>&amp;nbsp;<span>(สำนักงานใหญ่)</span>
            </font>
          </div>
          <div class="col-xs-12" style="position: absolute;left: 160px;top: 288px;">
            <font style="font-size: 20px;">
              <span t-if="o.company_id.building"><span t-field="o.company_id.building"/>&amp;nbsp;</span>
              <span t-if="o.company_id.roomnumber">ห้องที่&amp;nbsp;<span t-field="o.company_id.roomnumber"/>&amp;nbsp;</span>
              <span t-if="o.company_id.floornumber">ชั้นที่&amp;nbsp;<span t-field="o.company_id.floornumber"/>&amp;nbsp;</span>
              <span t-if="o.company_id.village">หมู่บ้าน&amp;nbsp;<span t-field="o.company_id.village"/>&amp;nbsp;</span>
              <span t-if="o.company_id.house_number"><span t-field="o.company_id.house_number"/>&amp;nbsp;</span>
              <span t-if="o.company_id.moo_number">&amp;nbsp;<span t-field="o.company_id.moo_number"/>&amp;nbsp;</span>
              <span t-if="o.company_id.soi_number">ซอย&amp;nbsp;<span t-field="o.company_id.soi_number"/>&amp;nbsp;</span>
              <span t-if="o.company_id.street"><span t-esc="o.company_id.street"/>&amp;nbsp;</span>
              <!--<span t-if="o.company_id.street2"><span t-esc="o.company_id.street2"/><![CDATA[&nbsp;]]></span>-->
              <span t-if="o.company_id.city and o.company_id.state_id and o.company_id.state_id.code == 'BKK'">&amp;nbsp;<span t-field="o.company_id.city"/>&amp;nbsp;</span>
              <span t-if="o.company_id.city and o.company_id.state_id and o.company_id.state_id.code != 'BKK'">&amp;nbsp;<span t-field="o.company_id.city"/>&amp;nbsp;</span>
              <span t-if="o.company_id.state_id.name">จังหวัด&amp;nbsp;<span t-field="o.company_id.state_id.name"/>&amp;nbsp;</span>
              <span t-if="o.company_id.zip"><span t-esc="o.company_id.zip"/></span><br/>
            </font>
          </div>
          <div>
            <font style="font-size: 20px;">
              <t t-if="vat1_id">
                <span t-esc="vat1_id[0]" style="position: absolute;left: 880px;top: 360px;"/>
                <span t-esc="vat1_id[1]" style="position: absolute;left: 920px;top: 360px;"/>
                <span t-esc="vat1_id[2]" style="position: absolute;left: 950px;top: 360px;"/>
                <span t-esc="vat1_id[3]" style="position: absolute;left: 980px;top: 360px;"/>
                <span t-esc="vat1_id[4]" style="position: absolute;left: 1010px;top: 360px;"/>
                <span t-esc="vat1_id[5]" style="position: absolute;left: 1050px;top: 360px;"/>
                <span t-esc="vat1_id[6]" style="position: absolute;left: 1080px;top: 360px;"/>
                <span t-esc="vat1_id[7]" style="position: absolute;left: 1100px;top: 360px;"/>
                <span t-esc="vat1_id[8]" style="position: absolute;left: 1130px;top: 360px;"/>
                <span t-esc="vat1_id[9]" style="position: absolute;left: 1160px;top: 360px;"/>
                <span t-esc="vat1_id[10]" style="position: absolute;left: 1200px;top: 360px;"/>
                <span t-esc="vat1_id[11]" style="position: absolute;left: 1230px;top: 360px;"/>
                <span t-esc="vat1_id[12]" style="position: absolute;left: 1275px;top: 360px;"/>
              </t>
            </font>
          </div>

          <t t-if="o.supplier_name_text">
            <div class="col-xs-12" style="position: absolute;left: 160px;top: 400px;">
              <font style="font-size: 20px;">
                <span t-field="o.supplier_name_text"/>
              </font>
            </div>
          </t>
          <t t-if="not o.supplier_name_text">
            <div class="col-xs-12" style="position: absolute;left: 160px;top: 400px;">
              <font style="font-size: 20px;">
                <span t-field="o.partner_id.name"/>
                <t t-if="o.partner_id.branch_no == '00000' and o.partner_id.lang == 'en_US' ">
                  <span>(สำนักงานใหญ่)</span>
                </t>
                <t t-if="o.partner_id.branch_no == '00000' and o.partner_id.lang is False ">
                  <span>(Head Office)</span>
                </t>
                <t t-if="o.partner_id.branch_no !='00000' or o.partner_id.branch_no == '00000' and o.partner_id.lang == 'th_TH'">
                  <span/>
                </t>
                <t t-if="o.partner_id.branch_no !='00000' and o.partner_id.lang  == 'en_US'">
                  <span>สาขาที่</span>&amp;nbsp;<span t-field="o.partner_id.branch_no"/>
                </t>
              </font>
            </div>
          </t>
          <br style="line-height: 50px"/>
          <p/>
          <t t-if="o.supplier_name_text">
            <div class="col-xs-12" style="position: absolute;left: 160px;top: 460px;">
              <font style="font-size: 20px;">
                <span t-field="o.supplier_address_text"/>
              </font>
            </div>
          </t>
          <t t-if="not o.supplier_name_text">
            <div class="col-xs-12" style="position: absolute;left: 160px;top: 460px;">
              <font style="font-size: 20px;">
                <span t-field="o.partner_id.street"/>&amp;nbsp;
                <span t-field="o.partner_id.street2"/>&amp;nbsp;
                <span t-field="o.partner_id.city"/>&amp;nbsp;
                <span t-field="o.partner_id.state_id.name"/>&amp;nbsp;
                <span t-field="o.partner_id.zip"/>
              </font>
            </div>
          </t>

          <div style="position: absolute;left: 920px;top: 565px;">
            <font style="font-size:37px;">
              <span>X</span>
            </font>
          </div>

          <t t-set="sum_total" t-value="0"/>
          <t t-set="sum_amount_total" t-value="0"/>
          <t t-set="i" t-value="0"/>
          <t t-set="description1" t-value="0"/>
          <t t-set="description2" t-value="0"/>
          <t t-set="description3" t-value="0"/>
          <t t-set="description4" t-value="0"/>
          <t t-set="description5" t-value="0"/>
          <t t-set="sum1" t-value="0"/>
          <t t-set="sum2" t-value="0"/>
          <t t-set="sum3" t-value="0"/>
          <t t-set="sum4" t-value="0"/>
          <t t-set="sum5" t-value="0"/>
          <t t-set="sum1_total" t-value="0"/>
          <t t-set="sum2_total" t-value="0"/>
          <t t-set="sum3_total" t-value="0"/>
          <t t-set="sum4_total" t-value="0"/>
          <t t-set="sum5_total" t-value="0"/>
          <t t-set="pay_date" t-value="o.date"/>
          <t t-if="o.date">
            <t t-set="date" t-value="time.strptime(o.date,'%Y-%m-%d' )"/>
          </t>
          <t t-foreach="o.line_ids" t-as="k">
            <t t-if="k.account_id.wht">
              <t t-if="k.wht_type == '1%' ">
                <t t-set="sum1" t-value="k.credit"/>
                <t t-if="k.amount_before_tax">
                  <t t-set="sum1_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="sum1_total" t-value="k.credit*100/1"/>
                </t>
                <t t-set="description1" t-value="k.name"/>
                <t t-set="i" t-value="i+1"/>
              </t>
              <t t-if="k.wht_type == '2%' ">
                <t t-set="sum2" t-value="k.credit"/>
                <t t-if="k.amount_before_tax">
                  <t t-set="sum2_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="sum2_total" t-value="k.credit*100/2"/>
                </t>
                <t t-set="description2" t-value="k.name"/>
                <t t-set="i" t-value="i+1"/>
              </t>
              <t t-if="k.wht_type == '3%' ">
                <t t-set="sum3" t-value="k.credit"/>
                <t t-if="k.amount_before_tax">
                  <t t-set="sum3_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="sum3_total" t-value="k.credit*100/3"/>
                </t>
                <t t-set="description3" t-value="k.name"/>
                <t t-set="i" t-value="i+1"/>
              </t>
              <t t-if="k.wht_type == '4%' ">
                <t t-set="sum4" t-value="k.credit"/>
                <t t-if="k.amount_before_tax">
                  <t t-set="sum4_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="sum4_total" t-value="k.credit*100/4"/>
                </t>
                <t t-set="description4" t-value="k.name"/>
                <t t-set="i" t-value="i+1"/>
              </t>
              <t t-if="k.wht_type == '5%' ">
                <t t-set="sum5" t-value="k.credit"/>
                <t t-if="k.amount_before_tax">
                  <t t-set="sum5_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="sum5_total" t-value="k.credit*100/5"/>
                </t>
                <t t-set="description5" t-value="k.name"/>
                <t t-set="i" t-value="i+1"/>
              </t>

              <t t-set="sum_total" t-value="sum([sum1,sum2,sum3,sum4,sum5])"/>
              <t t-set="sum_amount_total" t-value="sum([sum1_total,sum2_total,sum3_total,sum4_total,sum5_total])"/>

              <t t-set="descript" t-value="k.credit"/>
              <t t-if="k.wht_type == '1%' ">
                <t t-if="k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.credit*100/1"/>
                </t>
              </t>
              <t t-if="k.wht_type == '2%' ">
                <t t-if="k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.credit*100/2"/>
                </t>
              </t>
              <t t-if="k.wht_type == '3%' ">
                <t t-if="k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.credit*100/3"/>
                </t>
              </t>
              <t t-if="k.wht_type == '5%' ">
                <t t-if="k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.amount_before_tax"/>
                </t>
                <t t-if="not k.amount_before_tax">
                  <t t-set="amount_total" t-value="k.credit*100/5"/>
                </t>
              </t>

              <t t-if="i == 1">
                <div style="position: absolute;left: 790px;top: 1420px;">
                  <font style="font-size:25px;">
                    <t t-if="o.x_chek_wht  == True "></t>
                    <t t-if="o.x_chek_wht  == False">
                      <span t-field="o.date"/>
                    </t>
                  </font>
                </div>
                <div style="text-align:right; position: absolute;right: 243px;top: 1420px;">
                  <font style="font-size:25px;">
                    <span t-esc="'{0:,.2f}'.format(float(amount_total))"/>

                  </font>
                </div>
                <div style="text-align:right; position: absolute;right: 80px;top: 1420px;">
                  <font style="font-size:25px;">
                    <span t-esc="'{0:,.2f}'.format(float(descript))"/>
                  </font>
                </div>
              </t>
              <t t-if="i == 2">
                <div style="position: absolute;left: 790px;top: 1470px;">
                  <font style="font-size:25px;">
                    <t t-if="o.x_chek_wht  == True "></t>
                    <t t-if="o.x_chek_wht  == False">
                      <span t-field="o.date"/>
                    </t>
                  </font>
                </div>
                <div style="position: absolute;right: 243px;top: 1470px;">
                  <font style="font-size:25px;">
                    <span t-esc="'{0:,.2f}'.format(float(amount_total))"/>
                  </font>
                </div>
                <div style="position: absolute;right: 80px;top: 1470px;">
                  <font style="font-size:25px;">
                    <span t-esc="'{0:,.2f}'.format(float(descript))"/>

                  </font>
                </div>
              </t>
            </t>
          </t>
          <font style="font-size:18px;">
            <div style="position: absolute;left: 240px;top: 1470px;">
              <t t-if="description1 != 0">
                <span t-esc="description1"/>,
              </t>
              <t t-if="description2 != 0">
                <span t-esc="description2"/>,
              </t>
              <t t-if="description3 != 0">
                <span t-esc="description3"/>,
              </t>
              <t t-if="description4 != 0">
                <span t-esc="description4"/>,
              </t>
              <t t-if="description5 != 0">
                <span t-esc="description5"/>,
              </t>
            </div>
          </font>

          <div style="text-align:right; position: absolute;right: 243px;top: 1520px;">
            <font style="font-size:25px;">
              <span t-esc="'{0:,.2f}'.format(float(sum_amount_total))"/>
            </font>
          </div>
          <div style="text-align:right; position: absolute;right: 80px;top: 1520px;">
            <font style="font-size:25px;">
              <span t-esc="'{0:,.2f}'.format(float(sum_total))"/>
            </font>
          </div>
          <div style="position: absolute;left: 450px;top: 1570px;">
            <font style="font-size:25px;">
              <span t-esc="o.baht_text(sum_total)"/>
            </font>
          </div>
          <div style="position: absolute;left: 205px;top: 1645px;">
            <font style="font-size:37px;">
              <span>X</span>
            </font>
          </div>

          <div style="position: absolute;right: 540px;top: 1760px;">
            <font style="font-size:25px;">
              <t t-if="o.x_chek_wht  == True "></t>
              <t t-if="o.x_chek_wht  == False">
                <t t-if="date">
                  <t t-if="date.tm_mday &gt; 9">
                    <span t-esc="date.tm_mday"/>
                  </t>
                  <t t-if="date.tm_mday &lt; 10">
                    <span>0</span><span t-esc="date.tm_mday"/>
                  </t>
                </t>
              </t>

              <t t-if="not date">
                <span/>
              </t>
            </font>
          </div>

          <div style="position: absolute;right: 450px;top: 1760px;">
            <font style="font-size:25px;">

              <t t-if="o.x_chek_wht  == True "></t>
              <t t-if="o.x_chek_wht  == False">
                <t t-if="date">
                  <t t-if="date.tm_mon &gt; 9">
                    <span t-esc="date.tm_mon"/>
                  </t>
                  <t t-if="date.tm_mon &lt; 10">
                    <span>0</span><span t-esc="date.tm_mon"/>
                  </t>
                </t>
              </t>
              <t t-if="not date">
                <span/>
              </t>
            </font>
          </div>

          <div style="position: absolute;right: 290px;top: 1760px;">
            <font style="font-size:25px;">
              <t t-if="o.x_chek_wht  == True "></t>
              <t t-if="o.x_chek_wht  == False">
                <t t-if="date">
                  <span t-esc="date.tm_year"/>
                </t>
              </t>
              <t t-if="not date">
                <span/>
              </t>
            </font>
          </div>
        </div>
      </t>
    </template>
  </data>
</openerp>
